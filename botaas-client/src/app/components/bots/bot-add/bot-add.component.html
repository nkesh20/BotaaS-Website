<div class="add-bot-container">
    <!-- Header -->
    <div class="header">
        <button mat-icon-button (click)="onCancel()" class="back-button">
            <mat-icon>arrow_back</mat-icon>
        </button>
        <h1>{{ 'bots.addNewBot' | translate }}</h1>
    </div>

    <!-- Instructions Card -->
    <mat-card class="instructions-card">
        <mat-card-header>
            <mat-icon mat-card-avatar>info</mat-icon>
            <mat-card-title>{{ 'bots.howToGetToken' | translate }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <ol>
                <li>{{ 'bots.instruction1' | translate }}</li>
                <li>{{ 'bots.instruction2' | translate }}</li>
                <li>{{ 'bots.instruction3' | translate }}</li>
                <li>{{ 'bots.instruction4' | translate }}</li>
                <li>{{ 'bots.instruction5' | translate }}</li>
            </ol>
            <p class="token-format">
                <strong>{{ 'bots.tokenFormat' | translate }}:</strong> <code>123456789:ABCdefGHIjklMNOpqrsTUVwxyz</code>
            </p>
        </mat-card-content>
    </mat-card>

    <!-- Add Bot Form -->
    <mat-card class="form-card">
        <mat-card-header>
            <mat-icon mat-card-avatar>smart_toy</mat-icon>
            <mat-card-title>{{ 'bots.botConfiguration' | translate }}</mat-card-title>
            <mat-card-subtitle>{{ 'bots.enterBotToken' | translate }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
            <form [formGroup]="addBotForm" (ngSubmit)="onSubmit()">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>{{ 'bots.botToken' | translate }}</mat-label>
                    <input matInput formControlName="token" placeholder="123456789:ABCdefGHIjklMNOpqrsTUVwxyz"
                        [disabled]="isSubmitting">
                    <mat-icon matSuffix>vpn_key</mat-icon>
                    <mat-error *ngIf="addBotForm.get('token')?.invalid && addBotForm.get('token')?.touched">
                        {{ getTokenError() }}
                    </mat-error>
                    <mat-hint>{{ 'bots.getTokenFromBotFather' | translate }}</mat-hint>
                </mat-form-field>
            </form>
        </mat-card-content>

        <mat-card-actions align="end">
            <button mat-button type="button" (click)="onCancel()" [disabled]="isSubmitting">
                {{ 'common.cancel' | translate }}
            </button>
            <button mat-raised-button color="primary" type="submit" (click)="onSubmit()"
                [disabled]="addBotForm.invalid || isSubmitting">
                <mat-spinner *ngIf="isSubmitting" diameter="20"></mat-spinner>
                <mat-icon *ngIf="!isSubmitting">add</mat-icon>
                {{ isSubmitting ? ('bots.addingBot' | translate) : ('bots.addBot' | translate) }}
            </button>
        </mat-card-actions>
    </mat-card>

    <!-- Security Notice -->
    <mat-card class="security-card">
        <mat-card-content>
            <div class="security-notice">
                <mat-icon color="warn">security</mat-icon>
                <div>
                    <strong>{{ 'bots.securityNotice' | translate }}:</strong>
                    <p>{{ 'bots.securityDescription' | translate }}</p>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>